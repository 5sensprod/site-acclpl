parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dWAG":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,o){if("function"==typeof e&&e.amd)e(["exports","module"],o);else if("undefined"!=typeof exports&&"undefined"!=typeof module)o(exports,module);else{var n={exports:{}};o(n.exports,n),t.fetchJsonp=n.exports}}(this,function(e,t){"use strict";var o={timeout:5e3,jsonpCallback:"callback",jsonpCallbackFunction:null};function n(e){try{delete window[e]}catch(t){window[e]=void 0}}function r(e){var t=document.getElementById(e);t&&document.getElementsByTagName("head")[0].removeChild(t)}t.exports=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=e,c=t.timeout||o.timeout,u=t.jsonpCallback||o.jsonpCallback,a=void 0;return new Promise(function(o,s){var l=t.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),d=u+"_"+l;window[l]=function(e){o({ok:!0,json:function(){return Promise.resolve(e)}}),a&&clearTimeout(a),r(d),n(l)},i+=-1===i.indexOf("?")?"?":"&";var m=document.createElement("script");m.setAttribute("src",""+i+u+"="+l),t.charset&&m.setAttribute("charset",t.charset),t.nonce&&m.setAttribute("nonce",t.nonce),t.referrerPolicy&&m.setAttribute("referrerPolicy",t.referrerPolicy),m.id=d,document.getElementsByTagName("head")[0].appendChild(m),a=setTimeout(function(){s(new Error("JSONP request to "+e+" timed out")),n(l),r(d),window[l]=function(){n(l)}},c),m.onerror=function(){s(new Error("JSONP request to "+e+" failed")),n(l),r(d),a&&clearTimeout(a)}})}});
},{}],"UW1X":[function(require,module,exports) {
module.exports=function(e,n){return!(e[0]>n[2]||e[2]<n[0]||e[3]<n[1]||e[1]>n[3])};
},{}],"CTIl":[function(require,module,exports) {
var t=require("leaflet"),e=require("fetch-jsonp"),i=require("bbox-intersect");function n(t,e,i){for(var n="",r=i;r>0;r--){var o=0,a=1<<r-1;0!=(t&a)&&o++,0!=(e&a)&&(o+=2),n+=o.toString()}return n}function r(t){var e=t.split(",");return[e[1],e[0],e[3],e[2]]}var o=["Aerial","AerialWithLabels","AerialWithLabelsOnDemand","Road","RoadOnDemand","CanvasLight","CanvasDark","CanvasGray","OrdnanceSurvey"],a=["AerialWithLabelsOnDemand","RoadOnDemand"];t.TileLayer.Bing=t.TileLayer.extend({options:{bingMapsKey:null,imagerySet:"Aerial",culture:"en-US",minZoom:1,minNativeZoom:1,maxNativeZoom:19},statics:{METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}?key={bingMapsKey}&include=ImageryProviders&uriScheme=https&c={culture}",POINT_METADATA_URL:"https://dev.virtualearth.net/REST/v1/Imagery/Metadata/{imagerySet}/{lat},{lng}?zl={z}&key={bingMapsKey}&uriScheme=https&c={culture}"},initialize:function(i){if("string"==typeof i&&(i={bingMapsKey:i}),i&&i.BingMapsKey&&(i.bingMapsKey=i.BingMapsKey,console.warn("use options.bingMapsKey instead of options.BingMapsKey")),!i||!i.bingMapsKey)throw new Error("Must supply options.BingMapsKey");if(i=t.setOptions(this,i),o.indexOf(i.imagerySet)<0)throw new Error("'"+i.imagerySet+"' is an invalid imagerySet, see https://github.com/digidem/leaflet-bing-layer#parameters");i&&i.style&&a.indexOf(i.imagerySet)<0&&console.warn("Dynamic styles will only work with these imagerySet choices: "+a.join(", "));var n=t.Util.template(t.TileLayer.Bing.METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,culture:this.options.culture});this._imageryProviders=[],this._attributions=[],this._fetch=e(n,{jsonpCallback:"jsonp"}).then(function(t){return t.json()}).then(this._metaDataOnLoad.bind(this)).catch(console.error.bind(console)),t.Browser.android||this.on("tileunload",this._onTileRemove)},createTile:function(e,i){var n=document.createElement("img");return t.DomEvent.on(n,"load",t.bind(this._tileOnLoad,this,i,n)),t.DomEvent.on(n,"error",t.bind(this._tileOnError,this,i,n)),this.options.crossOrigin&&(n.crossOrigin=""),n.alt="",this._url?n.src=this.getTileUrl(e):this._fetch.then(function(){n.src=this.getTileUrl(e)}.bind(this)).catch(function(t){console.error(t),i(t)}),n},getTileUrl:function(e){var i=n(e.x,e.y,e.z),r=t.Util.template(this._url,{quadkey:i,subdomain:this._getSubdomain(e),culture:this.options.culture});return"string"==typeof this.options.style&&(r+="&st="+this.options.style),r},onAdd:function(e){e.on("moveend",this._updateAttribution,this),t.TileLayer.prototype.onAdd.call(this,e),this._attributions.forEach(function(t){e.attributionControl.addAttribution(t)})},onRemove:function(e){e.off("moveend",this._updateAttribution,this),this._attributions.forEach(function(t){e.attributionControl.removeAttribution(t)}),t.TileLayer.prototype.onRemove.call(this,e)},getMetaData:function(i,n){if(!(this._map||i&&n))return Promise.reject(new Error("If layer is not attached to map, you must provide LatLng and zoom"));i=i||this._map.getCenter(),n=n||this._map.getZoom();var r=t.Util.template(t.TileLayer.Bing.POINT_METADATA_URL,{bingMapsKey:this.options.bingMapsKey,imagerySet:this.options.imagerySet,z:n,lat:i.lat,lng:i.lng});return e(r,{jsonpCallback:"jsonp"}).then(function(t){return t.json()}).catch(console.error.bind(console))},_metaDataOnLoad:function(t){if(200!==t.statusCode)throw new Error("Bing Imagery Metadata error: \n"+JSON.stringify(t,null,"  "));var e=t.resourceSets[0].resources[0];return this._url=e.imageUrl,this._imageryProviders=e.imageryProviders||[],this.options.subdomains=e.imageUrlSubdomains,this._updateAttribution(),Promise.resolve()},_updateAttribution:function(){var t=this._map;if(t&&t.attributionControl){var e=t.getZoom(),i=r(t.getBounds().toBBoxString());this._fetch.then(function(){var n=this._getAttributions(i,e),r=this._attributions;n.forEach(function(e){r.indexOf(e)>-1||t.attributionControl.addAttribution(e)}),r.filter(function(e){n.indexOf(e)>-1||t.attributionControl.removeAttribution(e)}),this._attributions=n}.bind(this))}},_getAttributions:function(t,e){return this._imageryProviders.reduce(function(n,r){for(var o=0;o<r.coverageAreas.length;o++)if(i(t,r.coverageAreas[o].bbox)&&e>=r.coverageAreas[o].zoomMin&&e<=r.coverageAreas[o].zoomMax)return n.push(r.attribution),n;return n},[])}}),t.tileLayer.bing=function(e){return new t.TileLayer.Bing(e)},module.exports=t.TileLayer.Bing;
},{"leaflet":"H1SE","fetch-jsonp":"dWAG","bbox-intersect":"UW1X"}]},{},[], null)
//# sourceMappingURL=leaflet-bing-layer.c766ae0f.js.map